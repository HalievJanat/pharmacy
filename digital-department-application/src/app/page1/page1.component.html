<table>
    <tr>
      <td style="vertical-align: top; width: 800px;">
    <h2>Добавить объект "Лекарство"</h2>
      <div>
        <label><b>Название лекарства</b></label><br>
        <input name="name" [(ngModel)]="newTask.name" #titlein = "ngModel" required/>
        <div [hidden] = "titlein.valid || titlein.untouched" class = "alert">
            Это поле обязательно для заполнения!
        </div>
      </div>
      <div>
        <label><b>Название категории </b></label><br>
        <select [(ngModel)]="newTask.category" name="category">
          <option value="Гормоны">Гормоны</option>
          <option value="Антибактериальные препараты">Антибактериальные препараты</option>
          <option value="Препараты, влияющие на иммунитет">Препараты, влияющие на иммунитет</option>
          <option value="Препараты влияющие на психику">Препараты влияющие на психику</option>
          <option value="Препараты, влияющие на функции желудочно-кишечного тракта">Препараты, влияющие на функции желудочно-кишечного тракта</option>
        </select>
    </div>
      <div>
        <label><b>Дозировка</b></label><br>
        <textarea [(ngModel)]="newTask.dose" name="dose"></textarea>
      </div>
      <div>
        <label><b>Состав (Используйте запятую в виде разделителя)</b></label><br>
        <textarea [(ngModel)]="structure" name="structure"></textarea>
      </div>
      <div>
        <label><b>Количество в упаковке</b></label><br>
        <input name="count" [(ngModel)]="newTask.count" (keydown)="rejectNonNumeric($event)"/>
      </div>
      <div>
        <label><b>Срок годности</b></label><br>
        <input name="expirationDate" [(ngModel)]="newTask.expirationDate" #creatorin = "ngModel" required maxlength="10" (input)="onDateInput($event)" placeholder="DD/MM/YYYY">
        <div [hidden] = "creatorin.valid || creatorin.untouched" class = "alert">
            Это поле обязательно для заполнения!
        </div>
      </div>
      <div>
        <label><b>Наличие лекарства в аптеке</b></label><br>
        <input type="radio" name="existence2" value=true [(ngModel)]="newTask.existence">Да<br>
        <input type="radio" name="existence2" value=false  [(ngModel)]="newTask.existence">Нет<br>
      </div>
      <button style = "margin-top: 10px;" (click)="addTask(titlein, creatorin)" [disabled]="titlein.invalid || creatorin.invalid">Добавить</button><br>
  
        <div *ngIf = "tasks.length>0">
          <select [(ngModel)]="selectedTaskNumberForEdit">
            <option *ngFor="let task of tasks" [value]="task.number">{{ task.number }}</option>
          </select>
          <button style = "margin-top: 10px;" (click)="loadTaskForEditing()">Редактировать задачу</button>
        </div>

        <p></p>
        <div *ngIf = "tasks.length>0">
          <table border='5' widht='500' height='100' align='center' bgcolor='white'>
            <tr>
            <td>Номер</td>
            <td>Название</td>
            <td>Категория</td>
            <td>Доза</td>
            <td>Состав</td>
            <td>Количество в упаковке</td>
            <td>Срок годности</td>
            <td>Наличие лекарства в аптеке</td>
            </tr>
            <tr *ngFor="let task of tasks" height='50%'>
            <th> {{task.number}} </th>
            <th> {{task.name}} </th>
            <th> {{task.category}} </th>
            <th> {{task.dose}} </th>
            <th> <div *ngFor="let element of task.structureArray"> {{element}} </div></th>
            <th> {{task.count}} </th>
            <th> {{task.expirationDate}} </th>
            <th> {{task.existence}} </th>
            </tr>
          </table>
        </div>
  
    <td style="vertical-align: top;"> 
      <div *ngIf = "selectedTask!=null">
        <h2>Редактировать задачу</h2>
      <div>
        <label><b>Название лекарства</b></label><br>
        <input name="name" [(ngModel)]="selectedTask.name" #titlein = "ngModel" required/>
        <div [hidden] = "titlein.valid || titlein.untouched" class = "alert">
            Это поле обязательно для заполнения!
        </div>
      </div>
      <div>
        <label><b>Название категории </b></label><br>
        <select [(ngModel)]="selectedTask.category" name="category">
            <option value="Гормоны">Гормоны</option>
            <option value="Антибактериальные препараты">Антибактериальные препараты</option>
            <option value="Препараты, влияющие на иммунитет">Препараты, влияющие на иммунитет</option>
            <option value="Препараты влияющие на психику">Препараты влияющие на психику</option>
            <option value="Препараты, влияющие на функции желудочно-кишечного тракта">Препараты, влияющие на функции желудочно-кишечного тракта</option>
        </select>
    </div>
      <div>
        <label><b>Дозировка</b></label><br>
        <textarea [(ngModel)]="selectedTask.dose" name="dose"></textarea>
      </div>
      <div>
        <div>
          <label><b>Состав (Используйте запятую в виде разделителя)</b></label><br>
          <textarea [(ngModel)]="structureSelected" name="structureSelected"></textarea>
        </div>
        <label><b>Количество в упаковке</b></label><br>
        <input name="count" [(ngModel)]="selectedTask.count" (keydown)="rejectNonNumeric($event)">
      </div>
      <div>
        <label><b>Срок годности</b></label><br>
        <input name="expirationDate" [(ngModel)]="selectedTask.expirationDate" #creatorin = "ngModel" required maxlength="10" (input)="onDateInput($event)" placeholder="DD/MM/YYYY">
        <div [hidden] = "creatorin.valid || creatorin.untouched" class = "alert">
            Это поле обязательно для заполнения!
        </div>
      </div>
      <div>
        <label><b>Наличие лекарства в аптеке</b></label><br>
        <input type="radio" name="existence" value=true [(ngModel)]="selectedTask.existence">Да<br>
        <input type="radio" name="existence" value=false  [(ngModel)]="selectedTask.existence">Нет<br>
      </div>
      <button style = "margin-top: 10px;" (click)="updateTask()" [disabled]="titlein.invalid || creatorin.invalid">Сохранить</button><br>
    </div>
    </td>
    </tr>
  </table>